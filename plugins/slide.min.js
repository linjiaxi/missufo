/**
 * Created by acer on 2016/5/31.
 */
$.fn.extend({slidePic:function(data){var $this=$(this),picWidth,picHeight,num,positionLeft,i,circleColor,defaults={width:"800px",height:"300px",number:2,hasCircle:true,circleColor:"blue",time:2000,circleWidth:5},time,data=$.extend({},defaults,data);father=$this.parent();circleColor=data.circleColor;if(data.width.indexOf("%")>0){var winWidth=$(window).width(),winHeight=$(window).height();picWidth=winWidth*(parseInt(data.width)/100);picHeight=winHeight*(parseInt(data.height)/100)}else{picWidth=data.width;picHeight=data.height}$this.css({width:picWidth,height:picHeight});father.css({width:picWidth,height:picHeight});num=data.number;positionLeft=$this.position().left;if(data.hasCircle){createCircle()}function createCircle(){var y=0,circle=$("<div>");spanCicles="";for(y;y<num;y++){spanCicles+="<span class='circle'></span>"}circle.html(spanCicles);father.append(circle);$(".circle:eq(0)").css("background",circleColor);circle.css({width:(data.circleWidth*3)*num+"px",height:data.circleWidth*2+"px",position:"absolute",top:"80%",left:"50%",});$(".circle").css({display:"inline-block",width:data.circleWidth,height:data.circleWidth,border:"1px solid #eeeeee",borderRadius:data.circleWidth,}).each(function(index,ele){$(this).css("margin-right",data.circleWidth+"px")})}i=0;function autoShowPic(){positionLeft=i*-parseInt(picWidth)+"px";$this.animate({left:positionLeft},data.time/2,"linear",function(){$(".circle").css("background","");$(".circle").eq(i-1).css("background",circleColor)});i++;i>=num?i=0:i=i}setInterval(autoShowPic,data.time)}});